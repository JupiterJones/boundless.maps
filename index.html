<html>
<style>
    #help { position: fixed; display: block; top: 0; left: 0; padding: 0.2em; background-color: white; }
</style>
<body>
    <div id="help">
        <span id="zoom"></span>
        <span>&nbsp;&#8596;&nbsp;<select id="date"></select></span>
        <span>&nbsp;&#8597;&nbsp;<select id="world"></select></span>
    </div>
    <img id="map">
</body>
<script>
    var dates = ["2019-05-03", "2019-07-18", "2019-09-12", "2020-01-07", "2020-02-15"];
    var planets = [
        "aus1_t0_0.png", "aus1_t1_0.png", "aus1_t2_0.png", "aus2_t4_0.png", "aus2_t5_0.png",
        "aus2_t5_1.png", "euc1_t0_0.png", "euc1_t1_0.png", "euc1_t2_0.png", "euc1_t3_0.png",
        "euc1_t4_0.png", "euc2_t0_0.png", "euc2_t0_1.png", "euc2_t1_0.png", "euc2_t2_0.png",
        "euc2_t5_0.png", "euc3_t0_0.png", "euc3_t0_1.png", "euc3_t0_2.png", "euc4_t1_0.png",
        "euc4_t2_0.png", "euc4_t5_0.png", "euc5_t0_0.png", "euc5_t1_0.png", "use1_t0_0.png",
        "use1_t1_0.png", "use1_t2_0.png", "use1_t3_0.png", "use1_t4_0.png", "use2_t0_0.png",
        "use2_t0_1.png", "use2_t1_0.png", "use2_t2_0.png", "use2_t5_0.png", "use3_t0_0.png",
        "use3_t0_1.png", "use3_t0_2.png", "use4_t1_0.png", "use4_t2_0.png", "use4_t5_0.png",
        "usw1_t0_0.png", "usw1_t1_0.png", "usw1_t2_0.png", "usw1_t3_0.png", "usw1_t4_0.png",
        "usw2_t0_0.png", "usw2_t1_0.png", "usw2_t2_0.png", "usw2_t5_0.png", "usw2_t5_1.png"
    ];
    var names = [
        "Lasaina", "Lutrion", "Boori", "Flan", "Galan",
        "Malurialakrib", "Sochaltin I", "Finata", "Lamblis", "Circarpous I",
        "Besevrona", "Arie", "Refgar", "Antar VI", "Gloviathosa",
        "Cardass", "Niia Zed Ka", "Imoco", "Gellis", "Eresho",
        "Xa Frant", "Kol Huroo", "Dzassak", "Trung", "Beckon",
        "Pheminorum", "Biitula", "Delta Cancret", "Serpensarindi", "Maryx",
        "Trior", "Kada I", "Cephonex Merika", "Shedu Tier", "Alder",
        "Sorissi", "Raxxa", "Tana VII", "Gyosha Ophin", "Houchus I",
        "Storis II", "Seginiakai", "Grovidias Te", "Till", "Alnitans",
        "Angel I", "Minorengle", "Imdaari", "Alcyon", "Norkyna"
    ];
    var size = 1;
    var date = dates.length - 1;
    var planet = 0;
    var world_select = document.getElementById("world");
    var date_select = document.getElementById("date");
    var zoom_span = document.getElementById("zoom");
    var map_img = document.getElementById("map");

    function update() {
        world_select.selectedIndex = planet;
        date_select.selectedIndex = date;
        zoom_span.innerHTML = "-/0/+ zoom " + (100 * size).toFixed(1) + "%";
        map_img.src = dates[date] + "/" + planets[planet];
        map_img.style.height = (4068 * size) + "px";
    }
    function setup() {
        document.addEventListener("keydown", function(event) {
            if (["+", "-", "0", "ArrowUp", "ArrowDown", "ArrowRight", "ArrowLeft"].includes(event.key)) {
                switch (event.key) {
                    case "ArrowLeft": date -= 1; break;
                    case "ArrowRight": date += 1; break;
                    case "ArrowUp": planet += 1; break;
                    case "ArrowDown": planet -=1; break;
                    case "0": size = 1; break;
                    case "+": size *= 1.2; break;
                    case "-": size *= 0.8; break;
                }
                event.preventDefault();
            }
            size = Math.max(0.02, Math.min(5, size));
            date = Math.max(0, Math.min(dates.length - 1, date));
            planet = Math.max(0, Math.min(planets.length - 1, planet));
            update();
        });
        world_select.addEventListener("change", function() {
            planet = world_select.selectedIndex;
            update();
        });
        date_select.addEventListener("change", function() {
            date = date_select.selectedIndex;
            update();
        });
        for (var i = 0; i < names.length; i++) {
            var option = document.createElement('option');
            option.innerHTML = (i + 1) + ": " + names[i];
            world_select.appendChild(option);
        }
        for (var i = 0; i < dates.length; i++) {
            var option = document.createElement('option');
            option.innerHTML = dates[i];
            date_select.appendChild(option);
        }
    }
    setup();
    update();
</script>
</html>
